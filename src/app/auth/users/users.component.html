<div class="container-xl">
    <div class="row p-5">
        <p-toast
    [showTransformOptions]="'translateY(100%)'"
    [showTransitionOptions]="'1000ms'"
    [hideTransitionOptions]="'1000ms'"
    [showTransformOptions]="'translateX(100%)'"
  />
  <div *ngIf="loading" class="spinner-container" style="color: #c3c3c3 !important;">
    <div class="spinner-border" role="status">
      <span class="sr-only"></span>
    </div>
  </div>
      <div class="col" *ngIf="!loading">
        <h6>total={{ totalRecords }}</h6>
        <p-table      [value]="users"

        [tableStyle]="{ 'min-width': '60rem' }"
        [responsive]="true">
          <ng-template pTemplate="header">
            <tr>
              <th>User ID</th>
              <th>User Name</th>
              <th>Email</th>
              <th>Roles</th>
              <th>Action</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-user>
            <tr  >
              <td>{{ user.userId }}</td>
              <td>{{ user.userName }}</td>
              <td>{{ user.email  }}</td>
              <td>{{ user.roles  }}</td>

              <td>
              <div>
                <button class="pr-2" [routerLink]="'../edit-users/'+user?.userId" ><i class="pi pi-pencil                  " ></i>
                </button>


                <button class="pr-2" (click)="delete(user.userId)" ><i class="pi pi-trash" style="color: red"></i>
                </button>
              </div>
              </td>
            </tr>
          </ng-template>
          <ng-template pTemplate="emptymessage">
            <tr>
              <td colspan="5" class="text-center" *ngIf="users.length===0">
                <h1>No Found Users</h1>
              </td>
            </tr>
          </ng-template>

        </p-table>
        <p-paginator
        [totalRecords]="totalRecords"
        [rows]="rows"
        [first]="first"
        [showFirstLastIcon]="false"
        [showCurrentPageReport]="true"

        (onPageChange)="onPageChange($event)
        "
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords}"
        ></p-paginator>
      </div>
    </div>
  </div>
